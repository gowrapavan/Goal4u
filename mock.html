<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube API Test</title>
</head>
<body>
  <h1>üîç YouTube API Test</h1>
  <div id="output">Loading...</div>

  <script>
    const API_KEY = "AIzaSyB9KjmivQbVzeGlVSh4sv1DjriFfsp-bCg";
    const query = "top football goals 2025";

    fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&q=${encodeURIComponent(query)}&part=snippet&type=video&videoDuration=short&maxResults=5`)
      .then(async (res) => {
        if (!res.ok) {
          const err = await res.json();
          throw new Error(`${res.status} ${res.statusText} - ${err.error.message}`);
        }
        return res.json();
      })
      .then((data) => {
        const output = document.getElementById("output");
        if (data.items.length === 0) {
          output.textContent = "No videos found.";
          return;
        }

        output.innerHTML = "<ul>" +
          data.items.map(video => `
            <li>
              <strong>${video.snippet.title}</strong><br/>
              <a href="https://www.youtube.com/watch?v=${video.id.videoId}" target="_blank">Watch</a>
            </li>
          `).join("") +
          "</ul>";
      })
      .catch((err) => {
        document.getElementById("output").textContent = `‚ùå Error: ${err.message}`;
        console.error("Fetch Error:", err);
      });
  </script>
</body>
</html>
